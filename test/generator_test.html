<html lang="en">
  <head>
    <meta charset="utf-8">
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../web-component-tester/browser.js"></script>
    <link rel="import" href="../gs-element-blockly.html">
  </head>
  <body>
    <gs-element-blockly id="gseb"></gs-element-blockly>
    <script>
      suite('gs-element-blockly_generator', function() {
				var element;

        /**
         * Chequea que el codigo generado para el xml sea igual a code
         */
        function gsTest(name, xml, code) {
          test(name, function() {
            element.replaceWorkspace(xml);
            assert.equal(element.generateCode(), code);
          });
        }

				setup(function() {
					element = document.getElementById("gseb");
				});

        gsTest('Programa vac√≠o',
          '<xml xmlns="http://www.w3.org/1999/xhtml"><block type="Program" deletable="false" movable="false" editable="false" x="30" y="30"><statement name="program"></statement></block></xml>',
          'program {\n}');

        gsTest('Poner',
          '<xml xmlns="http://www.w3.org/1999/xhtml"><block type="Program" deletable="false" movable="false" editable="false" x="30" y="30"><statement name="program"><block type="Poner"><value name="COLOR"><block type="Rojo"></block></value></block></statement></block></xml>',
          `program {
  Poner(Rojo)
}`
        );
      });
    </script>
  </body>
</html>
